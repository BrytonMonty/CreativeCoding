<!doctype html>
<html>
<head>
<meta charset="UTF-8">

<title> Montgomery Vector Mandala </title>

<!-- import external .js scripts here -->

<!-- <script type="text/javascript" src="#" ></script> -->

<!-- modify CSS properties here -->

<style type="text/css">
body,td,th {
font-family: Monaco, "Courier New", "monospace";
font-size: 14px;
color: rgba(255,255,255,1);
}

body {
background-color: rgba(0,0,0,1);
}

#container {
position: relative;
text-align: left;
width: 95%;
height: 800px;
}

#fmxCanvas {
position: relative;
background-color:rgba(255,255,255,1);
border: rgba(255,255,255,1) thin dashed;
margin: 10px;
cursor: hidden;
display: inline-block;
}

</style>

</head>

<body>

<div id="container">
<!-- START HTML CODE HERE -->

<canvas id="fmxCanvas" width="800" height="800"></canvas>

<div id="display"></div>

<br><br>

<img src="vector_mandala.png" width="400" height="400" id="mandala" />



Add your personal notes or additional information here

<!-- FINISH HTML CODE HERE -->
</div>

<script>

///////////////////////////////////////////////////////////////////////
// DECLARE requestAnimFrame

var rAF = window.requestAnimFrame ||
window.mozRequestAnimFrame ||
window.webkitRequestAnimFrame ||
window.msRequestAnimFrame;

var fps = 30;

window.requestAnimFrame = (

function(callback) {

return rAF ||

function(callback) {
window.setTimeout(callback, 1000 / fps);
};

})();

///////////////////////////////////////////////////////////////////////
// DEFINE GLOBAL VARIABLES HERE

var canvas;
var ctx;
canvas = document.getElementById("fmxCanvas");
ctx = canvas.getContext("2d");

var canvas1;
var ctx1;
canvas1 = document.createElement("canvas");
ctx1 = canvas1.getContext("2d");

canvas1.width = canvas.width;
canvas1.height = canvas.height;

var canvas2;
var ctx2;
canvas2 = document.createElement("canvas");
ctx2 = canvas2.getContext("2d");

canvas2.width = canvas.width;
canvas2.height = canvas.height;

var canvas3;
var ctx3;
canvas3 = document.createElement("canvas");
ctx3 = canvas3.getContext("2d");

canvas3.width = canvas.width;
canvas3.height = canvas.height;
    
var canvas4;
var ctx4;
canvas4 = document.createElement("canvas");
ctx4 = canvas4.getContext("2d");

canvas4.width = canvas.width;
canvas4.height = canvas.height;
    
var canvas5;
var ctx5;
canvas5 = document.createElement("canvas");
ctx5 = canvas5.getContext("2d");

canvas5.width = canvas.width;
canvas5.height = canvas.height;
    
var canvas6;
var ctx6;
canvas6 = document.createElement("canvas");
ctx6 = canvas6.getContext("2d");

canvas6.width = canvas.width;
canvas6.height = canvas.height;
    
var canvas7;
var ctx7;
canvas7 = document.createElement("canvas");
ctx7 = canvas7.getContext("2d");

canvas7.width = canvas.width;
canvas7.height = canvas.height;
    
var canvas8;
var ctx8;
canvas8 = document.createElement("canvas");
ctx8 = canvas8.getContext("2d");

canvas8.width = canvas.width;
canvas8.height = canvas.height;
    
var canvas9;
var ctx9;
canvas9 = document.createElement("canvas");
ctx9 = canvas9.getContext("2d");

canvas9.width = canvas.width;
canvas9.height = canvas.height;
    
var canvas10;
var ctx10;
canvas10 = document.createElement("canvas");
ctx10 = canvas10.getContext("2d");

canvas10.width = canvas.width;
canvas10.height = canvas.height;

var canvas11;
var ctx11;
canvas11 = document.createElement("canvas");
ctx11 = canvas11.getContext("2d");

canvas11.width = canvas.width;
canvas11.height = canvas.height;


var display;
display = document.getElementById('display');

var counter;

///////////////////////////////////////////////////////////////////////
// DEFINE YOUR GLOBAL VARIABLES HERE


///////////////////////////////////////////////////////////////////////
// CALL THE EVENT LISTENERS

window.addEventListener("load", setup, false);

//////////////////////////////////////////////////////////////////////
// ADD EVENT LISTENERS

canvas.addEventListener("mousemove", mousePos, false);

//////////////////////////////////////////////////////////////////////
// MOUSE COORDINATES

var stage, mouseX, mouseY;

function mousePos(event) {
stage = canvas.getBoundingClientRect();
mouseX = event.clientX - stage.left;
mouseY = event.clientY - stage.top;
}

/////////////////////////////////////////////////////////////////////
// INITIALIZE THE STARTING FUNCTION

function setup() {

/////////////////////////////////////////////////////////////////////
// DECLARE STARTING VALUES OF GLOBAL VARIABLES

counter = 0;
mouseX = canvas.width/2;
mouseY = canvas.height/2;

/////////////////////////////////////////////////////////////////////
// CALL SUBSEQUENT FUNCTIONS, as many as you need

clear(); // COVER TRANSPARENT CANVAS OR CLEAR CANVAS

draw(); // THIS IS WHERE EVERYTHING HAPPENS

}

////////////////////////////////////////////////////////////////////
// CLEAR THE CANVAS FOR ANIMATION
// USE THIS AREA TO MODIFY BKGD

function clear() {

ctx.clearRect(0,0,canvas.width, canvas.height);
ctx1.clearRect(0,0,canvas.width, canvas.height);
ctx2.clearRect(0,0,canvas.width, canvas.height);

// clear additional ctxs here if you have more than canvas1

}

////////////////////////////////////////////////////////////////////
// THIS IS WHERE EVERYTHING HAPPENS

function draw() {

counter += 0.1; // EASIER FOR SINE COSINE FUNCTIONS

if (counter > Math.PI*200) { counter = 0; } // RESET COUNTER

clear(); // USE THIS TO REFRESH THE FRAME AND CLEAR CANVAS

////////////////////////////////////////////////////////////////////
// >>>START HERE>>>START HERE>>>START HERE>>>START HERE>>>START HERE

//FIRST RED WITH DARK AND LIGHT BLUE


//BACKGROUND
ctx.beginPath();
    ctx.rect(0,0,800,800);
ctx.closePath();
ctx.fillStyle = "rgba(249,213,147,1.00)"
ctx.fill();

let hueAmount = (mouseY / canvas.height) * 180;
let limitedX = (mouseX / canvas.width) * 5;
let clampedMouseY = Math.min(440, Math.max(150, mouseY));


ctx1.save();
ctx1.beginPath();
    ctx1.moveTo(305,68);
    ctx1.quadraticCurveTo(310,71,312,75);
    ctx1.quadraticCurveTo(410,98,423,181);
    ctx1.quadraticCurveTo(427,236,356,254);
    ctx1.quadraticCurveTo(274,254,261,192);
    ctx1.quadraticCurveTo(237,143,303,77);
    ctx1.quadraticCurveTo(304,74,305,68);
ctx1.closePath();
ctx1.fillStyle = "rgba(250,43,39,1)"
ctx1.fill();
ctx1.strokeStyle = "rgba(0,0,0,1)"
ctx1.stroke();
ctx1.lineWidth = 2;
ctx1.lineJoin = "round";

ctx1.beginPath();
    ctx1.moveTo(315,102);
    ctx1.quadraticCurveTo(381,131,397,200);
    ctx1.quadraticCurveTo(377,215,345,214);
    ctx1.quadraticCurveTo(330,156,315,102);
ctx1.closePath();
ctx1.fillStyle = "rgba(0,191,220,1)"
ctx1.fill();
ctx1.strokeStyle = "rgba(0,0,0,1"
ctx1.stroke();
ctx1.lineWidth = 2;
ctx1.lineJoin = "round";

ctx1.beginPath();
    ctx1.moveTo(315,102);
    ctx1.quadraticCurveTo(275,153,288,219);
    ctx1.quadraticCurveTo(319,231,345,214);
    ctx1.quadraticCurveTo(330,156,315,102);
ctx1.closePath();
ctx1.fillStyle = "rgba(3,56,98,1)"
ctx1.fill();
ctx1.strokeStyle = "rgba(0,0,0,1"
ctx1.stroke();
ctx1.lineWidth = 2;
ctx1.lineJoin = "round";

ctx1.restore();
var amount1 = 12;
for (var i=0; i<amount1; i++) {
    
    ctx.save();
    ctx.filter ="blur("+limitedX+"1px) hue-rotate("+hueAmount+"deg)"
    ctx.translate(canvas.width/2, canvas.height/2);
    ctx.rotate(i/amount1 * 2 * Math.PI -counter/30);
    ctx.drawImage(canvas1,-400-mouseX, -canvas.height/2);
    ctx.restore();
    
}


//SECOND
ctx2.save()
 ctx2.beginPath();
    ctx2.moveTo(240,136);
    ctx2.quadraticCurveTo(314,165,317,241);
    ctx2.quadraticCurveTo(307,259,283,250);
    ctx2.quadraticCurveTo(229,216,240,136);
ctx2.closePath();
ctx2.fillStyle = "rgba(253,196,47,0.8)"
ctx2.fill();
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(245,146);
    ctx2.quadraticCurveTo(311,173,305,247);
    ctx2.quadraticCurveTo(283,223,245,146)
ctx2.closePath();
ctx2.fillStyle = "rgba(235,49,24,0.8)"
ctx2.fill();
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(245,146);
    ctx2.quadraticCurveTo(241,231,305,247);
ctx2.closePath();
ctx2.fillStyle = "rgba(235,49,24,0.8)"
ctx2.fill();
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(244,162);
    ctx2.lineTo(256,163);
    ctx2.lineTo(260,152);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(245,171);
    ctx2.lineTo(260,172);
    ctx2.lineTo(268,158);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(246,180);
    ctx2.lineTo(266,182); 
    ctx2.lineTo(275,164);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(248,190);
    ctx2.lineTo(272,193);
    ctx2.lineTo(282,172);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(251,200);
    ctx2.lineTo(278,204);
    ctx2.lineTo(288,179);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(256,209);
    ctx2.lineTo(284,213);
    ctx2.lineTo(295,187);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();

ctx2.beginPath();
    ctx2.moveTo(262,218);
    ctx2.lineTo(290,223);
    ctx2.lineTo(300,195);
ctx2.lineWidth = 1;
ctx2.lineJoin = "round";
ctx2.stroke();


ctx2.restore();
    
    
    



var amount2 = 12;

for (var i=0; i<amount2; i++) {
    
    ctx.save();
    ctx.filter ="blur("+limitedX+"1px)"
    ctx.translate(canvas.width/2, canvas.height/2);
    ctx.rotate(i/amount2 * 2 * Math.PI +counter/10);
    ctx.drawImage(canvas2,-canvas.width/2, -400-mouseY);
    ctx.restore();
    
}

    


//THIRD RED AND YELLOW OVALS
ctx3.save();
ctx3.beginPath();
    ctx3.ellipse(278,298,53, 76,100,0,2 * Math.PI);
ctx3.closePath();
ctx3.fillStyle = "rgba(250,46,39,0.8)"
ctx3.fill();
ctx3.strokeStyle = "rgba(0,0,0,1)"
ctx3.stroke();
ctx3.lineWidth = 4;
ctx3.lineJoin = "round";

ctx3.beginPath();
    ctx3.ellipse(279,298,43, 59,100,0,2 * Math.PI);
ctx3.closePath();
ctx3.fillStyle = "rgba(254,185,45,0.8)"
ctx3.fill();

ctx3.restore();
    
var amount3 = 12;
for (var i=0; i<amount3; i++) {
    
    ctx.save();
    ctx.filter ="blur("+limitedX+"1px) hue-rotate("+hueAmount+"deg)"
    ctx.translate(canvas.width/2, canvas.height/2);
    ctx.rotate(i/amount3 * 2 * Math.PI -counter/10);
    ctx.drawImage(canvas3,-canvas.width/2, -clampedMouseY);
    ctx.restore();
    
}

//FOURTH WHITE TRIANGLES
ctx4.save();
ctx4.beginPath();
    ctx4.moveTo(252,264);
    ctx4.quadraticCurveTo(309,273,344,304);
    ctx4.quadraticCurveTo(316,347,285,353);
    ctx4.quadraticCurveTo(260,307,252,264);
ctx4.closePath();
ctx4.fillStyle = "rgba(247,247,237,0.8)"
ctx4.fill();
ctx4.strokeStyle = "rgba(0,0,0,1)"
ctx4.stroke();
ctx4.lineWidth = 4;
ctx4.lineJoin = "round";
ctx4.restore();


    
var amount4 = 12;

for (var i=0; i<amount4; i++) {
    
    ctx.save();
    ctx.filter ="hue-rotate("+hueAmount+"deg)"
    ctx.translate(canvas.width/2, canvas.height/2);
    ctx.rotate(i/amount4 * 2 * Math.PI +counter/40);
    ctx.drawImage(canvas4,-canvas.width/2, -canvas.height/2);
    ctx.restore();
    
}


//FIFTH BLUE CIRLE
ctx5.save();
ctx5.beginPath();
    ctx5.arc(395, 408, 133, 0, Math.PI * 2, false);
ctx5.closePath();
ctx5.fillStyle = "rgba(2,77,134,0.5)"
ctx5.fill();
ctx5.strokeStyle = "rgba(0,0,0,1)"
ctx5.stroke();
ctx5.lineWidth = 1;
ctx5.lineJoin = "round";
ctx5.restore();
ctx.drawImage(canvas5,0,0);

//SIXTH YELLOW BUMPS
ctx6.save();
ctx6.beginPath();
    ctx6.arc(330, 322, 15, -0.7, Math.PI * 0.8, true);
ctx6.closePath();
ctx6.fillStyle = "rgba(254,185,55,1)"
ctx6.fill();
ctx6.stroke();
ctx6.lineWidth = 1;
ctx6.lineJoin = "round";
ctx6.restore();


    
var amount6 = 24;

for (var i=0; i<amount6; i++) {
    
    ctx.save();
    ctx.filter ="hue-rotate("+hueAmount+"deg)"
    ctx.translate(397, 408);
    ctx.rotate(i/amount6 * 2 * Math.PI -counter/30);
    ctx.drawImage(canvas6,-397, -408);
    ctx.restore();
    
}
//TENTH YELLOW CIRCLE
ctx10.save();
ctx10.beginPath();
    ctx10.arc(397, 408, 110, 0, Math.PI * 2, true);
ctx10.closePath();
ctx10.fillStyle = "rgba(254,185,55,1)"
ctx10.fill();
ctx10.restore();
ctx.filter ="hue-rotate("+hueAmount+"deg)"
ctx.drawImage(canvas10,0,0);


//SEVENTH  RED AND BLUE CIRCLES
ctx7.save();
ctx7.beginPath();
    ctx7.arc(397, 345, 30, 0, Math.PI * 2, true);
ctx7.closePath();
ctx7.fillStyle = "rgba(250,46,39,1)"
ctx7.fill();
ctx7.stroke();
ctx7.lineWidth = 1;
ctx7.lineJoin = "round";


ctx7.beginPath();
    ctx7.arc(397, 360, 25, 0, Math.PI * 2, true);
ctx7.closePath();
ctx7.fillStyle = "rgba(6,78,136,1)"
ctx7.fill();
ctx7.stroke();
ctx7.lineWidth = 1;
ctx7.lineJoin = "round";
ctx7.restore();  


var amount7 = 6;

for (var i=0; i<amount7; i++) {
    
    ctx.save();
    ctx.filter ="hue-rotate("+hueAmount+"deg)"
    ctx.translate(397, 408);
    ctx.rotate(i/amount7 * 2 * Math.PI +counter/10);
    ctx.drawImage(canvas7,-397-mouseX, -408);
    ctx.restore();
    
}

//EIGTH WHITE MIDDLE
ctx8.save();
ctx8.beginPath();
    ctx8.moveTo(347,380);
    ctx8.quadraticCurveTo(361,369,370,391);
    ctx8.quadraticCurveTo(346,401,347,380);
ctx8.closePath();
ctx8.fillStyle = "rgba(249,255,239,1)"
ctx8.fill();
ctx8.stroke();
ctx8.lineWidth = 2;
ctx8.lineJoin = "round";
ctx8.restore();  


var amount8 = 6;

for (var i=0; i<amount8; i++) {
    
    ctx.save();
    ctx.translate(397, 408);
    ctx.rotate(i/amount8 * 2 * Math.PI -counter/10);
    ctx.drawImage(canvas8,-397, -408);
    ctx.restore();
    
}


//NINTH RED AND WHITE TEAR DROP SHAPE
ctx9.save();
ctx9.beginPath();
    ctx9.moveTo(241,320);
    ctx9.quadraticCurveTo(294,313,311,360);
ctx9.closePath();
ctx9.fillStyle = "rgba(245,245,235,1)"
ctx9.fill();
ctx9.stroke();
ctx9.lineWidth = 1;
ctx9.lineJoin = "round";
ctx9.restore(); 

ctx9.beginPath();
    ctx9.moveTo(241,320);
    ctx9.quadraticCurveTo(259,366,311,360)
ctx9.closePath();
ctx9.fillStyle = "rgba(247,45,35,1)"
ctx9.fill();
ctx9.stroke();
ctx9.lineWidth = 1;
ctx9.lineJoin = "round";
ctx9.restore();  
    
    


var amount9 = 6;

for (var i=0; i<amount9; i++) {
    
    ctx.save();
    ctx.filter ="hue-rotate("+hueAmount+"deg)"
    ctx.translate(397, 408);
    ctx.rotate(i/amount9 * 2 * Math.PI -counter/10);
    ctx.drawImage(canvas9,-397, -408-mouseY);
    ctx.restore();
    
}


//ELEVENTH
ctx11.save();
ctx11.beginPath();
    ctx11.arc(397,408, 35, 0, 2*Math.PI, true);
ctx11.closePath();
ctx11.fillStyle = "rgba(252,255,250,1)"
ctx11.fill();
ctx11.stroke();
ctx11.lineWidth = 1;
ctx11.lineJoin = "round";

ctx11.beginPath();
    ctx11.arc(397,408, 30, 0, 2*Math.PI, true);
ctx11.closePath();
ctx11.fillStyle = "rgba(255,188,47,1)"
ctx11.fill();
ctx11.stroke();
ctx11.lineWidth = 1;
ctx11.lineJoin = "round";


ctx11.beginPath();
    ctx11.arc(397,408, 5, 0, 2*Math.PI, true);
ctx11.closePath();
ctx11.fillStyle = "rgba(0,212,233,1)"
ctx11.fill();
ctx11.stroke();
ctx11.lineWidth = 1;
ctx11.lineJoin = "round";
ctx11.restore();


ctx.drawImage(canvas11,0,0);


 

 

 



 

 

 

 

// <<<END HERE<<<END HERE<<<END HERE<<<END HERE<<<END HERE<<<END HERE
///////////////////////////////////////////////////////////////////

// CREDITS

ctx.save();
var credits = "Bryton Montgomery, Vector Mandala, FMX 310, SP 2025";
ctx.font = 'bold 12px Helvetica';
ctx.fillStyle = "rgba(0,0,0,1)"; // change the color here
ctx.shadowColor = "rgba(255,255,255,1)"; // change shadow color here
ctx.shadowBlur = 12;
ctx.shadowOffsetX = 2;
ctx.shadowOffsetY = 2;
ctx.fillText(credits, 10, canvas.height - 10); // CHANGE THE LOCATION HERE
ctx.restore();

//////////////////////////////////////////////////////////////////
// HTML DISPLAY FIELD FOR TESTING PURPOSES

display.innerHTML = Math.round(mouseX) + " || " + Math.round(mouseY) + " || counter = " + Math.round(counter);

/////////////////////////////////////////////////////////////////
// LAST LINE CREATES THE ANIMATION

requestAnimFrame(draw); // CALLS draw() every nth of a second

}

</script>

</body>
</html>